name : myproject
default : build

{
	foo = "hello world!"
	echo(message="${foo}")
}

macrodef mymacro(dest, arg2 = "defaultvalue", element source) {
	copy(todir = "@{dest}") {
		source()
	}
}

% description of the target
target build {
	copy(file = "${basedir}/test/build.ant", tofile = "${basedir}/build/test/build.ant.copy")
	// some comment
	jar(file = "${basedir}/build/test/my.jar") {
		fileset(dir="${basedir}/test", includes="*.ant")
	}
	/*
	 * Some multiline comment 
	 */
	if (available(file = "${basedir}/test/build.ant")) {
		/* NOT WORKING YET
		mymacro(dest = "${basedir}/build/test/dest") {
			fileset(dir = "${basedir}", includes="build.*")
		}
		*/
		echo(message = "mymacro call")
	} else {
		fail(message = "fail !")
	}
}

