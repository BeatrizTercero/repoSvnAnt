name : myproject
default : build

{
	prop foo = "hello world!"
	echo(message="${foo}")
}

% Some documentation of the macro
macrodef mymacro(arg t = "mymacro") {
	echo(message = "@{t}")
}

macrodef mymacro2(arg dest, implicit element source) {
	copy(todir = "@{dest}") {
		source()
	}
}

% description of the target
target build {
	copy(file = "${basedir}/test/build.ant", tofile = "${basedir}/build/test/build.ant.copy")
	// some comment
	jar(file = "${basedir}/build/test/my.jar") {
		fileset(dir="${basedir}/test", includes="*.ant")
	}
	mymacro()
	mymacro(t = "simple macro")
	/*
	 * Some multiline comment 
	 */
	if (available(file = "${basedir}/test/build.ant")) {
		mymacro2(dest = "${basedir}/build/test/dest") {
			fileset(dir = "${basedir}", includes="build.*")
		}
	} else {
		fail(message = "fail !")
	}
}

